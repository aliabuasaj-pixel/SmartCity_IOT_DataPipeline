ุฑูุน ููุญุฉ ูุคุดุฑุงุช ุงููุฏููุฉ ุงูุฐููุฉ - Smart City Dashboard ๐๏ธ
ูุนูููุงุช ุงููุฌููุนุฉ ๐ฅ

ุงูุทูุงุจ ุงููุดุงุฑููู:

ุนูู ุฃุจู ุนุณุงุฌ

ุบุงุฏุฉ ุงููุจูุจ

ุดูุฏ ุนุจุฏุงูุณูุงู

ุชุญุช ุฅุดุฑุงู ุงููููุฏุณ: ุนูุฑ ุฃุจู ุณูุฏ

ูุตู ุงููุดุฑูุน ๐

ูุฐุง ุงููุดุฑูุน ููุฏู ุฅูู ุจูุงุก ููุญุฉ ูุคุดุฑุงุช Dashboard ููุฏููุฉ ุฐููุฉ ุจุงุณุชุฎุฏุงู ุจูุงูุงุช ุญุณุงุณุงุช IoT. ุชุนุฑุถ ุงูููุญุฉ ูุนูููุงุช ูุชุญูููุงุช ุญูู:

ุฅุฌูุงูู ูุฑุงุกุงุช ุงูุญุณุงุณุงุช ุงูููููุฉ

ุชูุจููุงุช ุงูุชููุซ ุงูุดูุฑูุฉ

ุฃูุถู 5 ุฃุฌูุฒุฉ ุญุฑุงุฑุฉ ููู ุดูุฑ

ุงุฎุชุฑูุง ูุฐุง ุงููุดุฑูุน ูุฃูู ูุฌูุน ุจูู ุชุญููู ุงูุจูุงูุงุชุ ุงููุนุงูุฌุฉ ุงูุชุฒุงูุฏูุฉุ ูุฅูุดุงุก Materialized Views (MV)ุ ููุทุจู ุนููููุง ููุงููู Big Data ูApache Spark ูMongoDB ูStreamlit. ููุง ูุฑูุฒ ุงููุดุฑูุน ุนูู ุฌูุฏุฉ ุงูุจูุงูุงุชุ ุงูุชุญูู Validationุ ูุงูููุงุฑุณ Indexing ูุชุญุณูู ุงูุฃุฏุงุก.

ูุตู ุงูุจูุงูุงุช ๐
ุงูุฌุฏุงูู ูุงููุตุงุฏุฑ:

sensors: ุงูุจูุงูุงุช ุงูุฃูููุฉ ููู ุงูุญุณุงุณุงุช

ุงูุญููู: sensor_id, timestamp, temperature, humidity, pollution_level, traffic, power_usage

ุนุฏุฏ ุงูุณุฌูุงุช: ุญูุงูู 5,000,000

Materialized Views (MV):

mv_daily_readings_per_device: ุฅุฌูุงูู ุงููุฑุงุกุงุช ุงูููููุฉ ููู ุญุณุงุณ

mv_monthly_pollution_alerts: ุชูุจููุงุช ุงูุชููุซ ุงูุดูุฑูุฉ ููู ุดูุฑ

mv_top5_temp_devices_monthly: ุฃูุถู 5 ุฃุฌูุฒุฉ ุญุฑุงุฑุฉ ููู ุดูุฑ

mv_meta_state: ูุญุชูู ุนูู ููุงุท ุงูุชุญูู (checkpoints) ูุขุฎุฑ ููุช ุชุญุฏูุซ ููู MV

Logs: ูุชู ุชุณุฌูู ูู ุนูููุงุช ุงูุชุดุบูู ูุงูุชุญูู ูุงูุชุตุฏูุฑ ููุง

Data Dictionary: ููุฌูุฏ ูู docs/data_dictionary.md ููุถุญ ุงูุญููู ูุฃููุงุนูุง ูุงููููุฏ


ูููููุฉ ุงููุฌูุฏุงุช ๐
SmartCity_IoT_DataPipeline/
โโ app/                 # ูุงุฌูุฉ ุงููุณุชุฎุฏู ุนุจุฑ Streamlitุ ูุญุชูู ุนูู app.py
โโ spark_jobs/          # ุณูุฑูุจุชุงุช Spark ููุนุงูุฌุฉ ุงูุจูุงูุงุช ูุฅูุดุงุก MV
โโ scripts/             # ุณูุฑูุจุชุงุช Python ูJS ูุฅูุดุงุก Materialized Views ูุงูุชุญูู
โโ ingest_spark/        # ูููุงุช ingest ููุจูุงูุงุช ุนุจุฑ Spark (CSV ูุจูุฑ)
โโ ingest_json/         # ูููุงุช ingest ููุจูุงูุงุช ุจุตูุบุฉ JSON/JSONL
โโ run_validation/      # ุณูุฑูุจุชุงุช ุงูุชุญูู ูู ุฌูุฏุฉ ุงูุจูุงูุงุช (Validation)
โโ logs/                # ูููุงุช ุงูุณุฌูุงุช ุงูุชูููุฐูุฉ
โโ docs/                # ุงููุณุชูุฏุงุชุ ุฏููู ุงููุดุฑูุนุ ููุงุนุฏ ุงูุชุญููุ ุงุณุชุฑุงุชูุฌูุฉ ุงูููุฑุณุฉ
โโ requirements.txt     # ููุชุจุงุช Python ุงููุทููุจุฉ

ูุตู ุงููุฌูุฏุงุช:

app/: ูุญุชูู ุนูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุชู ุชุนุฑุถ KPIs ุงูุซูุงุซุฉ ูุชูุงุฑูุฑ MVุ ูุน ุจุทุงูุงุช ูุคุดุฑุงุช ูุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ ูุฃุฎูุฐ ูู mv_meta_state.

spark_jobs/: ุณูุฑูุจุชุงุช Spark ููุนุงูุฌุฉ ุงูุจูุงูุงุช ุงููุจูุฑุฉ ูุชุญููููุง ูู Raw โ Staging โ Validated โ MV.

scripts/: ุณูุฑูุจุชุงุช Python ูJS ูุฅูุดุงุก Materialized Viewsุ ุชุดุบูู ุงูุชุญุฏูุซ ุงูุชุฒุงูุฏูุ ูุงูุชุญูู ูู ุงูุจูุงูุงุช.

ingest_json/: ูุฑุงุกุฉ ูููุงุช JSON/JSONL ุนูู ุฏูุนุงุช chunks/stream ูุงููุชุงุจุฉ ุฅูู Staging.

run_validation/: ุชูููุฐ ุจูุงุจุฉ ุงูุฌูุฏุฉ Validation Gateุ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุกุ ุชุณุฌูู ูุชุงุฆุฌ ุงูุฑูุถ ูู Quarantine.

logs/: ุชุณุฌูู ูู ุนูููุงุช ุงูุชูููุฐุ ุงูุฃุฎุทุงุกุ ูุฏุฉ ุงูุชุดุบููุ ุนุฏุฏ ุงูุณุฌูุงุช ุงููุนุงูุฌุฉ.

docs/: ูุณุชูุฏุงุช ุงููุดุฑูุนุ Data Dictionaryุ ุงุณุชุฑุงุชูุฌูุงุช ุงูููุฑุณุฉุ Explain ููููุงุฑุณ.

requirements.txt: ูุณุฎุฉ Python ูSpark ูุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ.

ุฎุทูุงุช ุงูุชูููุฐ ๐๏ธ
1๏ธโฃ ูุทุงู ุงูุจูุงูุงุช

ุงุฎุชุฑูุง ูุดุฑูุน ูุฏููุฉ ุฐููุฉ ุจุงุณุชุฎุฏุงู ุญุณุงุณุงุช IoT ูุนุฏู ุชูุฑุงุฑู ูู ุงููุงุฏุฉ.

ุงููุฏู: ุชุญููู ูุฑุงุกุงุช ุงูุญุณุงุณุงุช ุงูููููุฉุ ุงูุชููุซุ ูุงุณุชููุงู ุงูุทุงูุฉ ูุงูุญุฑุงุฑุฉ.

ุงูุจูุงูุงุช ุงูุฃูููุฉ ูุญููุธุฉ ูู Rawุ ุซู ุชุชู ูุนุงูุฌุชูุง ุฅูู Staging ูValidated.

2๏ธโฃ ูุฏุฎูุงุช ุงูุจูุงูุงุช (Raw โ Staging) ๐ฅ

ุงููุณุงุฑ ุงููุณุชุฎุฏู: ingest_json/ ููุฑุงุกุฉ ูููุงุช JSON/JSONL ุจุงุณุชุฎุฏุงู ุณูุฑูุจุช Python ุนูู ุฏูุนุงุช (chunks/stream) ูุงููุชุงุจุฉ ุฅูู Staging.

ุงูุญุฏ ุงูุฃุฏูู ููู ููู: 500,000 ุณุฌูุ ูุน ุงูุงุญุชูุงุธ ุจุงูุจููุฉ ูุงูุญููู ุงูุตุญูุญุฉ.

ุชู ุฅุนุฏุงุฏ Data Dictionary ูู docs/data_dictionary.md ูุชูุถูุญ ูู ุญููุ ููุน ุงูุจูุงูุงุชุ ูุงููููุฏ.

ุชู ุชุฌุงูู ูุณุงุฑ Spark/CSV ุงููุจูุฑ ูุชุฌูุจ ุงูุชุนุงุฑุถ ูุน ุงููุชุทูุจุงุช.

3๏ธโฃ ุจูุงุจุฉ ุงูุฌูุฏุฉ - Validation Gate โ

ุฃูููุง ุชูุฑ ุงูุจูุงูุงุช ูู Raw โ Staging ุจุฏูู ููุงุฑุณ ุฅุถุงููุฉ.

ูุชู ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุนุจุฑ run_validation/validation_run.pyุ ุจุงุณุชุฎุฏุงู ููุงุนุฏ ููุฌูุฏุฉ ูู docs/validation_rules.json.

ุงูุณุฌูุงุช ุบูุฑ ุงููุทุงุจูุฉ ุชูุฑุณู ุฅูู Quarantineุ ูุน ุชุณุฌูู ุงูุณุจุจ ูู logs/validation.log.

ุชู ุงุณุชุฎุฏุงู Chunks ููุนุงูุฌุฉ ุงูุจูุงูุงุช ุงููุจูุฑุฉ ุจููุงุกุฉ.

4๏ธโฃ ุงูููุงุฑุณ + Explain ๐

ุชู ุฅูุดุงุก 3 ููุงุฑุณ ุนูู ุงูุฃูู ููู MVุ ูุน ุงูุชุฑููุฒ ุนูู ููุฑุณ ูุฑูุจ Composite Index.

ุฃููุงุน ุงูููุงุฑุณ ุงููุณุชุฎุฏูุฉ: Single, Compound, Partialุ ูุชุณุฑูุน ุงูุงุณุชุนูุงูุงุช ุญุณุจ ุงูุชูุฑูุฑ.

ุงุณุชุฑุงุชูุฌูุฉ ุงูููุฑุณุฉ ููุซูุฉ ูู docs/index_strategy.md ูุน ุดุฑุญ ุณุจุจ ุงุฎุชูุงุฑ ูู ููุฑุณ.

ุชู ุงูุงุญุชูุงุธ ุจููุทุงุช executionStats (Explain) ูุซูุงุซุฉ ุงุณุชุนูุงูุงุช ุฑุฆูุณูุฉ ูุจู ูุจุนุฏ ุงูููุฑุณุฉ.

5๏ธโฃ Aggregations / ุงูุชูุงุฑูุฑ ๐

ุชู ุฅูุดุงุก 5 ุชูุงุฑูุฑ ุฑุฆูุณูุฉ ุนูู ุงูุฃูู:

Daily Readings per Device: ุฅุฌูุงูู ุงููุฑุงุกุงุช ุงูููููุฉ ููู ุญุณุงุณ.

Monthly Pollution Alerts: ูุชูุณุท ุงูุชูุจููุงุช ุงูุดูุฑูุฉ ููู ููุทูุฉ.

Top 5 Temp Devices (Monthly): ุฃูุถู 5 ุฃุฌูุฒุฉ ุญุฑุงุฑุฉ ููู ุดูุฑ.

Invalid Records Count: ุนุฏุฏ ุงูุณุฌูุงุช ุบูุฑ ุงูุตุญูุญุฉ ููู ุญูู ุญุณุงุณ.

Power Usage Monthly Avg: ูุชูุณุท ุงุณุชููุงู ุงูุทุงูุฉ ููู ุดูุฑ ููู ุญุณุงุณ.

ูู ุชูุฑูุฑ ููุฌูุฏ ูู ูุฌูุฏ aggregations/ุ ูุน ุณูุฑูุจุช ูุณุชูู ููุชุดุบูู.

6๏ธโฃ Materialized Views (MV) ๐

ุชู ุฅูุดุงุก โฅ 3 MV ูุชุณุฑูุน ุงูุงุณุชุนูุงูุงุช:

mv_daily_readings_per_device

mv_monthly_pollution_alerts

mv_top5_temp_devices_monthly

ุงูููุงุชูุญ ุงููุณุชุฎุฏูุฉ:

MV ุงูููููุฉ โ _id = {sensor, day}

MV ุงูุชูุจููุงุช โ _id = {month}

MV ุฃูุถู ุฃุฌูุฒุฉ ุงูุญุฑุงุฑุฉ โ _id = {month}

ุงูุชุญุฏูุซ ุงูุชุฒุงูุฏู Incremental Update: ููุท ุงูุณุฌูุงุช ุงูุฌุฏูุฏุฉ ุจุนุฏ ุขุฎุฑ checkpoint.

Checkpoint ู Safety Window: ูุถูุงู ุนุฏู ููุฏุงู ุฃู ุจูุงูุงุช ุนูุฏ ุงูุชุญุฏูุซ ุงูุชุฒุงูุฏู.

Logs ุงูุชุดุบูู: ูุชู ุชุณุฌูู errors, duration, start, end ููู MV ูู ูุฌูุฏ logs/.

7๏ธโฃ ููุญุฉ ุงููุคุดุฑุงุช - Dashboard ๐ฅ๏ธ

ูุงุฌูุฉ Streamlit ุชุนุฑุถ KPIs ุงูุซูุงุซุฉ ุงูุฃุณุงุณูุฉ:

ุฅุฌูุงูู ุงููุฑุงุกุงุช ุงูููููุฉ ููู ุญุณุงุณ

ุงูุชูุจููุงุช ุงูุดูุฑูุฉ ููุชููุซ

ุฃูุถู 5 ุฃุฌูุฒุฉ ุญุฑุงุฑุฉ ููู ุดูุฑ

ุชุนุฑุถ ุฃูุถูุง ุขุฎุฑ ููุช ุชุญุฏูุซ ูุฃุฎูุฐ ูู mv_meta_state.

ุชุฏุนู ุงูุชุตููุฉ ุญุณุจ ุชุงุฑูุฎุ ููุน ุงูุญุณุงุณุ ูุงูููุทูุฉ.

ุงููุฎุทุท ุงููุนูุงุฑู ๐๏ธ
flowchart LR
    Raw --> Staging --> Validated --> MV --> Dashboard


Raw: ุงูุจูุงูุงุช ุงูุฃูููุฉ ูู ุงูุญุณุงุณุงุช

Staging: ูุฑุญูุฉ ุงูุชุญุถูุฑ ูุงููุชุงุจุฉ ุฅูู ูุฌูุฏ ูุคูุช

Validated: ุจุนุฏ ุงูุชุญูู ูู ุฌูุฏุฉ ุงูุจูุงูุงุช

MV: Materialized Views ูุชุณุฑูุน ุงูุงุณุชุนูุงูุงุช

Dashboard: ุนุฑุถ ุงูุจูุงูุงุช ุนุจุฑ Streamlit

ูุชุทูุจุงุช ุงูุชุดุบูู โ๏ธ

Python: 3.11+

Apache Spark: 3.4+

MongoDB: 8+

ุงูููุชุจุงุช: ููุฌูุฏุฉ ูู requirements.txtุ ุชุดูู:

streamlit

pandas

pymongo

plotly


datetime
